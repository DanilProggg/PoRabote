<div class="container auth">
	<div class="row justify-content-center">
		<div class="col-md-5">
			<form
				*ngIf="login_page"
				[formGroup] = "login"
				(ngSubmit) = "onSubmitLogin()"
				>
				<div class="form-bg shadow-sm">
					<label class="action">Вход</label>
					<div class="mb-3">
					    <label for="email" class="form-label">Email</label>
					    <input formControlName="email" type="email" class="form-control" id="email" aria-describedby="email">
					    <span class="ms-1 text-danger"
					    *ngIf="login.get('email')?.invalid && login.get('email')?.touched"
					    >
					    	<span *ngIf="login.get('email')?.errors?.['required']">Email не должен быть пустым</span>
					    	<span *ngIf="login.get('email')?.errors?.['email']">Email введен не коректно</span>
					    </span>
					</div>
					<div class="mb-3">
					    <label for="password" class="form-label">Пароль</label>
					    <input formControlName="password" type="password" class="form-control" id="password">
					    <span class="ms-1 text-danger"
					    *ngIf="login.get('password')?.invalid && login.get('password')?.touched"
					    >
					    	<span *ngIf="login.get('password')?.errors?.['required']">Пароль не должен быть пустым</span>
					    </span>
					    <span *ngIf="userDoesntExist" class="text-danger">Пользователя с таким email не существует</span>
					</div>
					<a (click)="toReg()"><span class="underlink">Зарегистрироваться</span></a>
					<button type="submit" class="mt-3 btn btn-primary w-100">Войти</button>
				</div>
			</form>
			<form
				*ngIf="!login_page"
				[formGroup] = "reg"
				(ngSubmit) = "onSubmitReg()"
				>
				<div class="form-bg shadow-sm">
					<label class="action">Регистрация</label>
					<div class="mb-3">
						<label for="fullname" class="form-label">ФИО/Организация</label>
					    <input formControlName="fullname" type="text" class="form-control" id="fullname" aria-describedby="fullname">
					    <!-- Errors -->
					    <span class="ms-1 text-danger"
					    *ngIf="reg?.get('fullname')?.invalid && reg?.get('fullname')?.touched"
					    >
					    	<span *ngIf="reg?.get('fullname')?.errors?.['required']">ФИО не должно быть пустым</span>
					    </span>
					</div>

					<div class="mb-3">
						<label for="phone" class="form-label">Номер телефона</label>
					    <input formControlName="phone" type="text" class="form-control" id="phone" aria-describedby="phone">
					    <!-- Errors -->
					    <span class="ms-1 text-danger"
					    *ngIf="reg?.get('phone')?.invalid && reg?.get('phone')?.touched"
					    >
					    	<span *ngIf="reg?.get('phone')?.errors?.['required']">Номер не должен быть пустым</span>
					    	<span *ngIf="reg?.get('phone')?.errors?.['pattern']">Номер телефона введен некоректно</span>
					    </span>
					</div>

					<div class="mb-3">
						<label for="date" class="form-label">Дата рождения</label>
					    <input formControlName="date" type="date" class="form-control" id="date" aria-describedby="date">
					    <!-- Errors -->
					    <span class="ms-1 text-danger"
					    *ngIf="reg?.get('date')?.invalid && reg?.get('date')?.touched"
					    >
					    	<span *ngIf="reg?.get('date')?.errors?.['required']">Дата не должна быть пустой</span>
					    </span>
					</div>

					<div class="mb-3">

						<label for="email" class="form-label">Email</label>
					    <input formControlName="email" type="email" class="form-control" id="email" aria-describedby="email">
					    <!-- Errors -->
					    <span class="ms-1 text-danger"
					    *ngIf="reg.get('email')?.invalid && reg.get('email')?.touched"
					    >
					    	<span *ngIf="reg.get('email')?.errors?.['required']">Email не должен быть пустым</span>
					    	<span *ngIf="reg.get('email')?.errors?.['email']">Email введен не коректно</span>
					    </span>
					    <!---->
					</div>
					<div class="mb-3">
					    <label for="password" class="form-label">Пароль</label>
					    <input formControlName="password" type="password" class="form-control" id="password">
					    <span class="ms-1 text-danger"
					    *ngIf="reg.get('password')?.invalid && reg.get('password')?.touched"
					    >
					    	<span *ngIf="reg.get('password')?.errors?.['required']">Пароль не должен быть пустым</span>
					    	<span *ngIf="reg.get('password')?.errors?.['minlength'] && reg.get('password')?.errors?.['minlength']['requiredLength']">
					    		Пароль должен состоять из минимум {{reg.get('password')?.errors?.['minlength']['requiredLength']}} символов
					    	</span>
					    </span>
					    <span *ngIf="userExist" class="text-danger">Пользователь с такми email уже существует</span>
					</div>
					<a (click)="toLogin()"><span class="underlink">Войти</span></a>
					<button type="submit" class="mt-3 btn btn-primary w-100">Зарегистрироваться</button>
				</div>
			</form>
		</div>
	</div>
</div>

